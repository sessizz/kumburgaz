@{
    ViewData["Title"] = "Gösterge Paneli";

    var totalDebt = ViewBag.TotalDebt is decimal debt ? debt : 0m;
    var totalGenerated = ViewBag.TotalGenerated is decimal generated ? generated : 0m;
    var totalCollections = ViewBag.TotalCollections is decimal collections ? collections : 0m;
    var billingGroups = ViewBag.BillingGroups is int groups ? groups : 0;
    var netBalance = totalCollections - totalDebt;
}

<div class="flex flex-col md:flex-row md:items-end justify-between gap-4 mb-8">
    <div>
        <h1 class="text-3xl font-bold text-slate-900 tracking-tight">Hoş geldiniz</h1>
        <p class="text-slate-500 mt-1">Kumburgaz Sitesi için güncel finansal görünüm aşağıdadır.</p>
    </div>
    <div class="flex gap-3">
        <a class="flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 rounded-lg text-sm font-medium text-slate-700 hover:bg-slate-50 transition-colors" asp-controller="Reports" asp-action="DuesDebt">
            <span class="material-symbols-outlined text-[20px]">download</span>
            Raporlar
        </a>
        <a class="flex items-center gap-2 px-4 py-2 bg-primary hover:bg-primary/90 text-white rounded-lg text-sm font-medium transition-colors shadow-sm shadow-primary/20" asp-controller="Ledger" asp-action="Create">
            <span class="material-symbols-outlined text-[20px]">add</span>
            Yeni Gider
        </a>
    </div>
</div>

<div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6 mb-8">
    <div class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm">
        <p class="text-sm text-slate-500">Toplam Tahsilat</p>
        <h3 class="text-2xl font-bold text-slate-900 mt-2">@totalCollections.ToString("N0") TL</h3>
    </div>
    <div class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm">
        <p class="text-sm text-slate-500">Kalan Borç</p>
        <h3 class="text-2xl font-bold text-slate-900 mt-2">@totalDebt.ToString("N0") TL</h3>
    </div>
    <div class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm">
        <p class="text-sm text-slate-500">Üretilen Aidat</p>
        <h3 class="text-2xl font-bold text-slate-900 mt-2">@totalGenerated.ToString("N0") TL</h3>
    </div>
    <div class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm">
        <p class="text-sm text-slate-500">Net Bakiye</p>
        <h3 class="text-2xl font-bold text-slate-900 mt-2">@netBalance.ToString("N0") TL</h3>
        <p class="text-xs text-slate-400 mt-2">@billingGroups aktif aidat grubu</p>
    </div>
</div>

<div class="bg-white rounded-xl border border-slate-200 shadow-sm p-6">
    <h3 class="text-lg font-bold text-slate-900 mb-1">Hızlı Erişim</h3>
    <p class="text-sm text-slate-500 mb-4">Sık kullanılan ekranlar</p>
    <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
        <a class="px-4 py-3 rounded-lg bg-slate-50 hover:bg-slate-100 text-sm font-medium text-slate-700" asp-controller="Collections" asp-action="Create">Tahsilat Gir</a>
        <a class="px-4 py-3 rounded-lg bg-slate-50 hover:bg-slate-100 text-sm font-medium text-slate-700" asp-controller="Ledger" asp-action="Create">Gelir/Gider Gir</a>
        <a class="px-4 py-3 rounded-lg bg-slate-50 hover:bg-slate-100 text-sm font-medium text-slate-700" asp-controller="DuesGeneration" asp-action="Index">Dönem Üretimi</a>
        <a class="px-4 py-3 rounded-lg bg-slate-50 hover:bg-slate-100 text-sm font-medium text-slate-700" asp-controller="Units" asp-action="Index">Daireler</a>
        <a class="px-4 py-3 rounded-lg bg-slate-50 hover:bg-slate-100 text-sm font-medium text-slate-700" asp-controller="BillingGroups" asp-action="Index">Aidat Grupları</a>
        <a class="px-4 py-3 rounded-lg bg-slate-50 hover:bg-slate-100 text-sm font-medium text-slate-700" asp-controller="Reports" asp-action="DuesDebt">Borç Raporu</a>
    </div>
</div>
